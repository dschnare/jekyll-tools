##########
# Jekyll #
##########

safe:        false
auto:        false
server:      false
server_port: 4000
baseurl:     /
url:         http://localhost:4000

source:      .
destination: _site
plugins:     ../_plugins
exclude:     ['README.md', 'Gemfile', 'Gemfile.lock', 'package.json', 'node_modules']

future:      true
lsi:         false
pygments:    false
markdown:    maruku
permalink:   pretty

#########################
# Jekyll Tools Settings #
#########################

tools:
  path: ../_tools
  defaults:
    jsbuild:
      hooks: ../_hooks/jsbuild.rb
    cssbuild:
      hooks: ../_hooks/cssbuild-less.rb
      lessc: node_modules/less/bin/lessc
  tasks:
    - jsbuild:
        "../_assets/_js/some-framework.js":
          hooks: ../_hooks/jsbuild-typescript.rb
          tsc: node_modules/typescript/bin/tsc.js
          include:
            - _assets/vendor/some-framework/module.ts
    #     js/main-@hash.js:
    #       - _assets/_js/some-framework.js
    #       - _assets/js/main.js
    #     js/main.js:
    #       - _assets/_js/some-framework.js
    #       - _assets/js/main.js
    # - cssbuild:
    #     css/main-@hash.css:
    #       main: _assets/less/main.less
    #       include:
    #         - _assets/less/*.less
    #         - { bootstrap: node_modules/bootstrap/less/*.less }
    #     css/main.css:
    #         main: _assets/less/main.less
    #         include:
    #           - _assets/less/*.less
    #           - { bootstrap: node_modules/bootstrap/less/*.less }
    # - copy:
    #     page[0-9]/docs:
    #       - _assets/*.txt
    #     img:
    #       - node_modules/bootstrap/img/*.*