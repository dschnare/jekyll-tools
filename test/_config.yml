##########
# Jekyll #
##########

safe:        false
auto:        false
server:      false
server_port: 4000
baseurl:     /
url:         http://localhost:4000

source:      .
destination: _site
plugins:     ../_plugins
exclude:     ['README.md', 'Gemfile', 'Gemfile.lock', 'package.json']

future:      true
lsi:         false
pygments:    false
markdown:    maruku
permalink:   pretty

#########################
# Jekyll Tools Settings #
#########################

tools:
  path: ../_tools
  defaults:
    jsbuild:
      hooks: ../_hooks/jsbuild.rb
    lessbuild:
      hooks: ../_hooks/lessbuild.rb
  tasks:
    - jsbuild:
        "../_src/_js/some-framework.js":
          hooks: _src/hooks/typescript.rb
          include:
            - _assets/vendor/some-framework/module.ts
        js/main-@hash.js:
          - _src/_js/some-framework.js
          - _src/js/main.js
        js/main.js:
          - _src/_js/some-framework.js
          - _src/js/main.js
    - lessbuild:
        css/main-@hash.css:
          main: _src/less/main.less
          include:
            - _src/less/*.less
            - { bootstrap: _assets/node_modules/bootstrap/less/*.less }
        css/main.css:
            main: _src/less/main.less
            include:
              - _src/less/*.less
              - { bootstrap: _assets/node_modules/bootstrap/less/*.less }
    - copy:
        page[0-9]/docs:
          - _assets/*.txt
        img:
          - _assets/node_modules/bootstrap/img/*.*
